{% load static i18n %}
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>{% block title %}{% endblock %} :: {{ view.admin.site.title }}</title>
<link rel="stylesheet" type="text/css" href="{% static 'vendor/semantic-ui/semantic.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'cbvadmin/semantic-ui/cbvadmin.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'vendor/semantic-ui-calendar/calendar.min.css' %}">
{% block extrahead %}{% endblock %}
</head>
<body>
{% block outer_content %}{% endblock %}
<script src="{% static 'cbvadmin/semantic-ui/jquery.min.js' %}"></script>
<script src="{% static 'vendor/semantic-ui/semantic.min.js' %}"></script>
<script src="{% static 'vendor/semantic-ui-calendar/calendar.min.js' %}"></script>
<script src="{% static 'vendor/moment/moment-with-locales.min.js' %}"></script>
<script type="text/javascript">
$('#sidebar-toggle').click(function(){$('.ui.sidebar').sidebar('toggle')})

{% get_current_language as LANGUAGE_CODE %}
moment.locale('{{ LANGUAGE_CODE }}');
var calendarFormatter = {
  datetime: function (datetime, settings) {
    if (!datetime) return '';
    var isTimeOnly = settings.type === 'time';
    var isDateOnly = settings.type.indexOf('time') < 0;
    if (isDateOnly) {
      return moment(datetime).format('L');
    }
    if (isTimeOnly) {
      return moment(datetime).format('LT');
    }
    return moment(datetime).format('L LT');
  }
}
$('.field > .dateinput').parent().addClass('ui calendar').calendar({
    type: 'date', formatter: calendarFormatter
})
$('.field > .datetimeinput').parent().addClass('ui calendar').calendar({
    formatter: calendarFormatter
})
$('.field > .timeinput').parent().addClass('ui calendar').calendar({
    type: 'time', formatter: calendarFormatter
})
</script>
{% block extrascript %}{% endblock %}
</body>
</html>
